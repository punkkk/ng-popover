"use strict";var saprunPopover=angular.module("saprun-popover",[]);saprunPopover.directive("saprunPopover",function(){return{restrict:"A",transclude:!0,scope:!0,template:'<div class="saprun-popover-container" >\n                        <div class="saprun-popover hide-popover-element">\n                            <ng-transclude class="popover-transclude" ng-blur="onBlur()" tabindex="1"></ng-transclude>\n                        </div>\n                        <div class="saprun-popover-triangle hide-popover-element" ng-class="getTriangleClass()"></div>\n                    </div>\n                    ',link:function(e,t,o){var s=t[0].querySelector(".saprun-popover-container"),l=void 0,n=parseInt(o.horizontaloffset,10),r=void 0,p=void 0,i=void 0,a=void 0,c=void 0,d=void 0,v=void 0,u=void 0,m=15,f=30;v=Math.sqrt(m*m/2),u=Math.sqrt(m*m*2);var h=o.mode||"click",y=void 0===o.closeonclick?"click"==h:"true"===o.closeOnClick,g=void 0===o.closeOnMouseleave?"mouseover"==h:"true"===o.closeOnMouseleave;e.getTriangleClass=function(){return"saprun-popover-triangle-"+o.direction},e.onBlur=function(){g||y||(r.classList.add("hide-popover-element"),d.classList.add("hide-popover-element"))},g&&t[0].addEventListener("mouseleave",function(){r.classList.add("hide-popover-element"),d.classList.add("hide-popover-element")}),"click"!=h&&y&&t[0].addEventListener("click",function(){r.classList.add("hide-popover-element"),d.classList.add("hide-popover-element")}),t[0].addEventListener(h,function(){switch(l=t[0].querySelector(".popover-transclude"),p=t[0].clientHeight,s.style.top=p+5+"px",i=t[0].clientWidth,r=t[0].querySelector(".saprun-popover"),d=t[0].querySelector(".saprun-popover-triangle"),"click"==h&&y?(r.classList.toggle("hide-popover-element"),d.classList.toggle("hide-popover-element")):"click"!=h||y?r.classList.contains("hide-popover-element")&&(r.classList.remove("hide-popover-element"),d.classList.remove("hide-popover-element")):(r.classList.remove("hide-popover-element"),d.classList.remove("hide-popover-element")),a=r.clientHeight,c=r.clientWidth,o.direction){case"top":r.style.top=-p-a-v+"px",r.style.left=(i-c+n)/2+"px",d.style.top=-p-v+"px",d.style.left=(i-f)/2+"px";break;case"bottom":r.style.top=v+"px",r.style.left=(i-c+n)/2+"px",d.style.top=-(f-v-1)+"px",d.style.left=(i-f)/2+"px";break;case"right":r.style.top=(p-a)/2-p+"px",r.style.left=i+v+"px",d.style.top=(p-f)/2-p+"px",d.style.left=i-(f-v)+"px";break;case"left":r.style.top=(p-a)/2-p+"px",r.style.right=v+"px",d.style.top=(p-f)/2-p+"px",d.style.left=-v+"px"}l.focus()})}}}),function(){"function"==typeof define&&define.amd?define(function(){return saprunPopover.name}):"undefined"!=typeof module&&module.exports&&(module.exports=saprunPopover.name)}.call(void 0);